<ion-content scroll="true" ng-controller="sidebarRightController as sidebar"
  class="sidebar-right"
  ng-style="{'background':theme.view.sidebarRBackground}">

  <div class="applet-launch-container" dragula="'applet-bag'" dragula-model="sidebar.applets">

    <!-- Using collection-repeat here due to an issue with ngRepeat and ngAnimate -->
    <!-- See https://github.com/angular/angular.js/issues/3613 -->
    <div class="applet-icon" collection-repeat="a in sidebar.applets" item-width="80px" item-height="84px">
      <!-- wallet icon -->
      <div ng-if="a.header.id == 'wallet-applet'"
        class="wallet-image"
        ng-style="{'color':a.view.avatarColor, 'background':a.view.avatarBackground, 'border':a.view.avatarBorder}"
        menu-toggle="right" ng-click="applet.open(a)">
        <i class="icon-wallet size-20"></i>
      </div>

      <!-- builtin capability icon -->
      <div ng-if="a.header.id == 'builtin-applet'"
        class="builtin-image" ng-style="{'background':a.view.iconBackground}"
        menu-toggle="right" ng-click="applet.open(a)">
      </div>

      <!-- applet icon -->
      <img ng-if="a.header.id != 'wallet-applet' && a.header.id != 'builtin-applet'"
        class="applet-image" ng-src="{{a.view.launchIconImgSrc}}"
        ng-click="applet.open(a)">

      <!-- applet name -->
      <span class="applet-name">{{a.header.name}}</span>
    </div>
  </div>

</ion-content>
