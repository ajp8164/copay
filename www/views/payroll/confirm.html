<ion-view id="payroll-confirm" hide-tabs>
  <ion-nav-bar class="bar-royal">
    <ion-nav-title>
      {{'Confirm payroll deduction' | translate}}
    </ion-nav-title>
    <ion-nav-back-button>
    </ion-nav-back-button>
  </ion-nav-bar>

  <ion-content>
    <div class="list">
      <div class="item head">
        <div class="deduction-label">
          <img src="img/icon-bitcoin-small.svg">
          <span translate>Deduction</span>
        </div>
        <div class="amount-label">
          <div class="amount">{{depositAmount || '...'}} <span class="unit">{{depositDisplayUnit}}<span></div>
          <div class="right size-12">
            <div class="exchange-rate">{{exchangeRate}}</div>
            <div class="exchange-rate-info" translate>* Today's rate.</div>
            <div class="exchange-rate-info" translate>Transaction rate might be different.</div>
          </div>
          <div class="btc-estimate">&asymp; {{btcEstimate  || '...'}} {{btcDisplayUnit}}</div>
        </div>
      </div>
      <div class="info">
        <div class="item">
          <span class="label" translate>Deposit Address</span>
          <span class="deposit-to">
            <img src="img/icon-bitcoin-small.svg">

            <div copy-to-clipboard="address" class="ellipsis">
              <span class="size-14">{{address}}</span>
            </div>
          </span>
        </div>
        <!-- Address (external wallet) -->
        <div class="item item-icon-right" ng-if="recipientType == 'address'" ng-click="renameExternalWallet()">
          <span class="label" translate>Wallet</span>
          <div class="wallet">
            <i class="icon big-icon-svg">
              <img src="img/icon-wallet-external.svg" class="bg wallet-external"/>
            </i>
            <div>{{externalWalletName}}</div>
          </div>
          <i class="icon bp-arrow-right"></i>
        </div>
        <!-- Contact -->
        <a class="item item-icon-right" ng-if="recipientType == 'contact'" ng-click="showContactSelector()">
          <span class="label" translate>Contact</span>
          <div class="contact">
            <i class="icon big-icon-svg">
              <img src="img/contact-placeholder.svg" class="bg" ng-if="isChromeApp">
              <gravatar class="gravatar" name="{{contact.name}}" width="30" email="{{contact.email}}" ng-if="!isChromeApp"></gravatar>
            </i>
            <div>{{contact.name}}</div>
          </div>
          <i class="icon bp-arrow-right"></i>
        </a>
        <!-- Wallet -->
        <a class="item item-icon-right" ng-if="recipientType == 'wallet'" ng-click="showWalletSelector()">
          <span class="label" translate>Wallet</span>
          <div class="wallet">
            <i class="icon big-icon-svg">
              <img src="img/icon-wallet.svg" ng-class="{'wallet-background-color-default': !wallet.color}" ng-style="{'background-color': wallet.color}" class="bg"/>
            </i>
            <div>{{wallet.name}}</div>
          </div>
          <i class="icon bp-arrow-right"></i>
        </a>
        <div class="item single-line">
          <span class="label" translate>Next effective pay date</span>
          <span class="item-note">
            {{effectiveDate}}
          </span>
        </div>
      </div>
    </div>
    <div>
      <button class="button button-standard button-primary" ng-click="startPayroll()">
        <span translate>Confirm</span>
      </button>
    </div>
  </ion-content>
  <contact-selector
    contact-selector-title="contactSelectorTitle"
    contact-selector-selected-contact="contact"
    contact-selector-show="showContacts"
    contact-selector-on-select="onContactSelect">
  </contact-selector>
  <wallet-selector
    wallet-selector-title="walletSelectorTitle"
    wallet-selector-wallets="wallets"
    wallet-selector-selected-wallet="wallet"
    wallet-selector-show="showWallets"
    wallet-selector-on-select="onWalletSelect">
  </wallet-selector>
</ion-view>
