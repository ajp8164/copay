
/***********************************************************************************************************
 *
 * Variables
 * 
 ***********************************************************************************************************/

/*
 * Define color palettes
 */

$color-palettes: (
  default: (
    primary:        #03244D,
    secondary:      #496E9C,
    accent:         #DEB853,
    text-primary:   #03244D,
    text-secondary: #DEB853,
    text-highlight: #DEB853,
    success:        #21943A,
    alert:          #F68026
  )
);

/*
 * Choose color palette
 */

$selected-palette: default;
$palette: map-get($color-palettes, $selected-palette);

/*
 * Set colors based on the selected palette
 */

$primary-color:                    map-get($palette, primary);
$secondary-color:                  map-get($palette, secondary);
$accent-color:                     map-get($palette, accent);

$text-primary-color:               map-get($palette, text-primary);
$text-secondary-color:             map-get($palette, text-secondary);
$text-highlight-color:             map-get($palette, text-highlight);

$alert-color:                      map-get($palette, alert);
$success-color:                    map-get($palette, success);

/*
 * Set element colors
 */

$icon-color:                       $accent-color;
$icon-negative-color:              $primary-color;

$primary-button-color:             $accent-color;
$primary-button-text-color:        $text-primary-color;

$secondary-button-color:           $primary-color;
$secondary-button-text-color:      $text-secondary-color;

$popup-button-text-color:          $text-primary-color;

$check-button-color:               $accent-color;
$toggle-button-color:              $accent-color;

$primary-background-color:         $primary-color;
$secondary-background-color:       $secondary-color;
$accent-background-color:          $accent-color;

$gradient-bg-top-color:            $primary-color;
$gradient-bg-bottom-color:         $secondary-color;

/*
 * Third-party brand specific colors
 */

$bitcoin-orange-color:                  #FF9900;

$bitpay-primary-button-color:           $soft-blue;
$bitpay-primary-button-activated-color: #4E69E5;
$bitpay-button-text-color:              white;

/***********************************************************************************************************
 *
 * Global styles
 * 
 ***********************************************************************************************************/

a {
  color: $text-highlight-color;
}

.box-notification.error {
  background-color: $alert-color;
  border-color: $alert-color;
  color: $text-primary-color;
}

/* 
 * Main header bar
 */

.bar.bar-header,
.bar.bar-royal {
  background: $primary-background-color !important;
  background-image: -webkit-linear-gradient(top, $gradient-bg-top-color 5%,$gradient-bg-bottom-color 100%);
  background-image: linear-gradient(to bottom, $gradient-bg-top-color 5%,$gradient-bg-bottom-color 100%);
  border-color: $secondary-background-color;

 .button {
    color: $primary-button-color;
    background-color: transparent;

    .icon:before {
      color: $primary-button-color;
    }
  }

 .title {
    color: $text-secondary-color;
  }
}

/* 
 * Main tab icons
 */

.tabs .tab-item {
  .icon {
    background-repeat: no-repeat;
    background-position: center;
    margin: 6px 0 2px;
    &.ico-home {
      background-image: url(../img/app/tab-icons/ico-home.svg);
    }
    &.ico-home-selected {
      background-image: url(../img/app/tab-icons/ico-home-selected.svg);
    }
    &.ico-receive {
      background-image: url(../img/app/tab-icons/ico-receive.svg);
    }
    &.ico-receive-selected {
      background-image: url(../img/app/tab-icons/ico-receive-selected.svg);
    }
    &.ico-settings {
      background-image: url(../img/app/tab-icons/ico-settings.svg);
    }
    &.ico-settings-selected {
      background-image: url(../img/app/tab-icons/ico-settings-selected.svg);
    }
    &.ico-scan {
      background-image: url(../img/app/tab-icons/ico-scan.svg);
    }
    &.ico-scan-selected {
      background-image: url(../img/app/tab-icons/ico-scan-selected.svg);
    }
    &.ico-send {
      background-image: url(../img/app/tab-icons/ico-send.svg);
    }
    &.ico-send-selected {
      background-image: url(../img/app/tab-icons/ico-send-selected.svg);
    }
  }
}

ion-tabs.tabs-color-active-positive {
  .tab-item.tab-item-active,
  .tab-item.activated {
    color: $primary-color;
  }
}

/*
 * Tob tabs
 */

.top-tabs .col {
  border-bottom-color: $accent-color !important;
}

/*
 * Buttons
 */

/* Primary */
.button.button-primary,
.onboarding .button.button-primary,
#agree-to-terms .button.button-primary,
.button.button-positive {
  background-color: $primary-button-color;
  color: $primary-button-text-color !important;
}

.button.button-primary.activated,
.onboarding .button.button-primary.activated,
#agree-to-terms .button.button-primary.activated,
.button.button-positive.activated {
  background-color: $primary-button-color;
  opacity: 0.7;
}

/* Secondary */
.button.button-secondary,
.onboarding .button.button-secondary {
  background-color: $secondary-button-color;
  color: $secondary-button-text-color !important;
}

.button.button-secondary.activated,
.onboarding .button.button-secondary.activated {
  background-color: $secondary-button-color;
  opacity: 0.7
}

/* Clear */
.button.button-clear,
.onboarding .button.button-clear {
  color: $primary-button-color !important;
}

.button.button-clear.activated,
.onboarding .button.button-clear.activated {
  color: $primary-button-color;
  opacity: 0.7;
}

/* Popup buttons */
.popup-buttons {
  .button.button-clear,
  .onboarding .button.button-clear {
    color: $popup-button-text-color !important;
  }

  .button.button-clear.activated,
  .onboarding .button.button-clear.activated {
    color: $popup-button-text-color;
    opacity: 0.7;
  }
}

/*
 * Toggle buttons
 */

.toggle.toggle-balanced,
.toggle.toggle-positive {
  input:checked + .track {
    border-color: $toggle-button-color;
    background-color: $toggle-button-color;
  }
}

/*
 * Check buttons
 */

.checkbox-positive,
.checkbox-balanced {
  input:checked:before,
  input:checked + .checkbox-icon:before {
    background: $check-button-color;
    border-color: $check-button-color;
  }

  input:before,
  .checkbox-icon:before {
    border-color: $check-button-color;
  }
}

.checkbox input:checked:before,
.checkbox input:checked + .checkbox-icon:before {
  background: $check-button-color;
  border-color: $check-button-color;
}

/*
 * Popup modals
 */

.popup-modal-header-success {
  background: $success-color;
}

.popup-modal-header-warning {
  background: $alert-color;
}

.popup-modal-content-warning {
  .button {
    color: $alert-color !important;
  }
}

/***********************************************************************************************************
 *
 * View specific styles
 * 
 ***********************************************************************************************************/

/* 
 * Starting view
 */

#starting {
  background: $gradient-bg-top-color;
  background: -moz-linear-gradient(top, $gradient-bg-top-color 5%, $gradient-bg-bottom-color 100%);
  background: -webkit-gradient(left top, left bottom, color-stop(5%, $gradient-bg-bottom-color), color-stop(100%, $gradient-bg-bottom-color));
  background: -webkit-linear-gradient(top, $gradient-bg-top-color 5%, $gradient-bg-bottom-color 100%);
  background: -o-linear-gradient(top, $gradient-bg-top-color 5%, $gradient-bg-bottom-color 100%);
  background: -ms-linear-gradient(top, $gradient-bg-top-color 5%, $gradient-bg-bottom-color 100%);
  background: linear-gradient(to bottom, $gradient-bg-top-color 5%, $gradient-bg-bottom-color 100%);
}

/*
 * Onboarding views
 */

.onboarding {
  color: $text-secondary-color !important;
  background: $primary-background-color;
  background-image: linear-gradient(to bottom, $gradient-bg-top-color 5%, $gradient-bg-bottom-color 100%);

  .onboarding-description {
    color: $text-secondary-color;
    opacity: 0.7;
  }

  &#onboard-welcome > ion-content {
    background: none;
  }

  &#onboard-welcome {
    img#logo {
      content: url(../img/app/logo-negative.svg);
    }
  }

  .onboarding-illustration-secure {
    background-image: url(../img/app/onboarding/tour-phone.svg)
  }

  .onboarding-illustration-currency {
    background-image: url(../img/app/onboarding/tour-currency.svg)
  }

  .onboarding-illustration-control {
    background-image: url(../img/app/onboarding/tour-control.svg)
  }

  .onboarding-illustration-notifications {
    background-image: url(../img/app/onboarding/push-notifications.svg)
  }

  .onboarding-illustration-backup-warning {
    background-image: url(../img/app/backup-warning.svg);
  }

  .swiper-pagination-bullet {
    background: $accent-color !important;
  }

  &#onboarding-backup-request {
    svg#alert-icon g {
      stroke: $alert-color;
    }

    #arrow-down {
      color: $alert-color;
    }
  }

  &#onboarding-disclaimer {
    .item {
      color: $text-secondary-color;
    }

    .checkbox input:before,
    .checkbox .checkbox-icon:before {
      border-color: $check-button-color;
      background: transparent;
    }

    .checkbox {
      input:checked + .checkbox-icon:before {
        border-color: $check-button-color;
      }

      .checkbox-icon:after {
        border-color: $check-button-color;
      }
    }
  }
}

#agree-to-terms {
  background: $secondary-background-color;

  p {
    color: $text-secondary-color;
  }

  .item {
    background: transparent;
  }

  .checkbox input:before,
  .checkbox .checkbox-icon:before {
    border-color: $check-button-color;
    background: transparent;
  }

  .checkbox {
    input:checked + .checkbox-icon:before {
      border-color: $check-button-color;
    }

    .checkbox-icon:after {
      border-color: $check-button-color;
    }
  }
}

/*
 * Other views
 */

#wallet-backup-phrase {
  > ion-content {
    background: $primary-background-color;
  }

  #wallet-backup-phrase-step-1 {
    color: $text-secondary-color;
  }

  .backup-phrase {
    background-color: $secondary-background-color;
    border-color: $accent-background-color;
    color: $text-secondary-color;
  }

  #wallet-backup-phrase-step-2 {
    color: $text-secondary-color;

    #select-phrase {
      background: $primary-background-color;

      .tldr-prompt {
        color: $text-secondary-color;
      }
    }

    .select-word {
      border-color: $accent-color !important;
      background: $accent-color;
      color: $text-primary-color;
    }
  }
}

#tab-home {
  ion-content {
    .list.card {
      i > img,
      i > div {
        border-radius: 3px;
      }
    }
  }

  .big-icon-svg > .bg.green {
    background: $success-color;
  }

  .icon-buy-bitcoin {
    background-color: $bitcoin-orange-color;
    background-image: url(../img/app/icon-bitcoin.svg);
  }

}

#walletDetails {
  .bar.bar-header {
    .button {
      background-color: transparent;
      .icon:before {
        color: white;
      }
    }

    .title {
      color: white;
    }
  }
}

#view-add {
  .bg {
    background-color: $icon-color;
  }
}

#addresses {
  .addr-list .item.view-all span {
    color: $primary-color;
  }

  .addr-list .item.view-all i {
    color: $primary-color;
  } 

  img {
    content: url(../img/app/tab-icons/ico-receive-selected.svg);
  }
} 

#bitpayCard-intro {
  .bar.bar-header {
    .button {
      background-color: none !important;
      .icon:before {
        color: $bitpay-button-text-color;
      }
    }

    .title {
      color: $bitpay-button-text-color;
    }
  }

  .button.button-primary {
    background-color: $bitpay-primary-button-color;
    color: $bitpay-button-text-color !important;
  }

  .button.button-primary.activated {
    background-color: $bitpay-primary-button-color;
    opacity: 0.7;
  }

  .button.button-clear {
    color: $bitpay-button-text-color !important;
  }
}

#tab-receive #address .backup,
.wallet-not-backed-up-warning {
  background: $alert-color;
}

#tab-scan {
  svg#QR-scanner-guides path.st1 {
    stroke: $accent-color;
  }
}

#tab-send {
  img {
    content: url(../img/app/tab-icons/ico-send-selected.svg);
  }
}

#view-amount {
  item-selector .item-selector .option > i {
    color: $secondary-color;
  }

  .keypad .operator-send {
    background-color: $primary-button-color;
  }
}

#view-address-book {
  i.icon>svg#Add_Contact path.st0 {
    stroke: $icon-negative-color;
  }
}

#bitcoin-data {
  &.card techan svg {
    path.line {
      stroke: $primary-color !important;
    }

    .area path {
      fill: $primary-color !important;
      fill-opacity: 0.2 !important;
    }
  }
}

/***********************************************************************************************************
 *
 * User selectable wallet colors
 * 
 ***********************************************************************************************************/

$default-wallet-color-index: 1;

$wallet-color-map: (
   0: (color: #DD550C,  name: 'Bamboo'),
   1: (color: #03244D,  name: 'Green Vogue'),
   2: (color: #DEB853,  name: 'Anzac'),
   3: (color: #496E9C,  name: 'Kashmir Blue')
);

.wallet-color-count {
  content: '' + length($wallet-color-map);
}

/* background-color and color defaults should be the same */
$default-wallet-color: map-get( map-get($wallet-color-map, $default-wallet-color-index) , color);

.wallet-background-color-default {
  background-color: $default-wallet-color;
}

.wallet-color-default {
  color: $default-wallet-color;
}

/* generate classes for all colors */
@each $id, $map in $wallet-color-map {
  .wallet-color-#{$id} {
    background: map-get($map, color);
  }
  .wallet-color-#{$id}:before {
    content: map-get($map, name);
    margin-left: 2.4rem;
  }
}
